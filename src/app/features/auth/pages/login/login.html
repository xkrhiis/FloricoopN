<!-- src/app/features/auth/pages/login/login.html -->

<div class="min-vh-100 d-flex align-items-center justify-content-center bg-light">
  <div class="login-box" style="width: 520px; max-width: 92vw;">
    <div class="card card-outline card-primary shadow-sm">
      <!-- Encabezado -->
      <div class="card-header text-center">
        <h1 class="h2 mb-0">FloriCoop · Panel</h1>
        <p class="text-muted mb-0 small">Inicia sesión para continuar</p>
      </div>

      <!-- Formulario -->
      <form class="card-body" [formGroup]="form" (ngSubmit)="submit()" novalidate>
        <!-- Usuario -->
        <div class="form-group mb-3">
          <label for="username" class="font-weight-600">Usuario</label>
          <input
            id="username"
            type="text"
            class="form-control form-control-lg"
            formControlName="username"
            autocomplete="username"
            placeholder="admin o user"
          />
          <small
            class="text-danger"
            *ngIf="form.get('username')?.touched && form.get('username')?.invalid"
          >
            El usuario es obligatorio.
          </small>
        </div>

        <!-- Password -->
        <div class="form-group mb-1">
          <label for="password" class="font-weight-600">Contraseña</label>
          <div class="input-group input-group-lg">
            <input
              id="password"
              [type]="show ? 'text' : 'password'"
              class="form-control"
              formControlName="password"
              autocomplete="current-password"
              placeholder="Contraseña"
            />
            <div class="input-group-append">
              <button
                type="button"
                class="btn btn-outline-secondary"
                (click)="toggle()"
                tabindex="-1"
                [attr.aria-label]="show ? 'Ocultar contraseña' : 'Mostrar contraseña'"
              >
                <i class="far" [ngClass]="show ? 'fa-eye-slash' : 'fa-eye'"></i>
              </button>
            </div>
          </div>
          <small
            class="text-danger d-block"
            *ngIf="form.get('password')?.touched && form.get('password')?.invalid"
          >
            La contraseña es obligatoria.
          </small>
        </div>

        <!-- Error de login -->
        <div *ngIf="error" class="alert alert-danger py-2 px-3 my-3">
          {{ error }}
        </div>

        <!-- Botón -->
        <button
          type="submit"
          class="btn btn-primary btn-lg btn-block mt-3"
          [disabled]="form.invalid"
        >
          Entrar
        </button>
      </form>

      <!-- Pie -->
      <div class="card-footer text-center text-muted small">
        <div>Usuarios de prueba:</div>
        <div>
          <code></code> &nbsp;·&nbsp; <code></code>
        </div>
      </div>
    </div>
  </div>
</div>
